<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Skm Cart</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container container">
                <div class="nav-left">
                    <div class="logo">
                        <a href="index.html" aria-label="Skm Cart home">
                            <img src="fulllogo_transparent.png" alt="Skm Cart logo">
                            <span class="sr-only">Skm Cart</span>
                        </a>
                    </div>
                </div>

                <div class="nav-center">
                    <div class="search-bar">
                        <select id="search-category" class="search-category" aria-label="Select category">
                            <option value="all">All Categories</option>
                            <option value="electronics">Electronics</option>
                            <option value="appliances">Home Appliances</option>
                        </select>
                        <input id="search-input" class="search-input" type="search" placeholder="Search for products, brands, and more" aria-label="Search products">
                        <button class="search-btn" aria-label="Submit search"><i class="fas fa-search"></i></button>
                    </div>
                </div>

                <div class="nav-right">
                    <div class="nav-icons-stack">
                        <a href="#" class="icon-item" aria-label="Wishlist">
                            <i class="far fa-heart fa-lg" aria-hidden="true"></i>
                            <span class="nav-label">Wishlist</span>
                        </a>
                        <a href="#" class="icon-item" aria-label="Account">
                            <i class="far fa-user fa-lg" aria-hidden="true"></i>
                            <span class="nav-label">Account</span>
                        </a>
                        <a href="cart.html" class="icon-item cart-icon-link" aria-label="View cart">
                            <i class="fas fa-shopping-cart fa-lg" aria-hidden="true"></i>
                            <span class="nav-label">Cart</span>
                            <span class="cart-count" aria-live="polite">0</span>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="page-container container">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
            <h2>Checkout</h2>
            <button id="back-button" class="cta-button" type="button" aria-label="Go back">Back</button>
        </div>
        <div class="checkout-layout">
            <div class="checkout-form">
                <h3>Shipping Details</h3>
                <form id="checkout-form">
                    <div class="row">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" id="address" required>
                    </div>
                    <!-- Payment Section -->
                    <div class="form-group">
                        <label>Payment Method</label>
                        <div class="payment-methods">
                            <label class="pm-item"><input type="radio" name="payment" value="card" checked> Card</label>
                            <label class="pm-item"><input type="radio" name="payment" value="gpay"> GPay</label>
                            <label class="pm-item"><input type="radio" name="payment" value="upi"> UPI</label>
                            <label class="pm-item"><input type="radio" name="payment" value="qr"> QR Code</label>
                        </div>
                    </div>

                    <div id="payment-card" class="payment-panel">
                        <div class="form-group">
                            <label for="card-number">Card Number</label>
                            <input type="text" id="card-number" inputmode="numeric" placeholder="1234 5678 9012 3456">
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <label for="card-exp">Expiry</label>
                                <input type="text" id="card-exp" placeholder="MM/YY">
                            </div>
                            <div class="form-group">
                                <label for="card-cvc">CVC</label>
                                <input type="text" id="card-cvc" inputmode="numeric" placeholder="123">
                            </div>
                        </div>
                    </div>

                    <div id="payment-gpay" class="payment-panel" style="display:none">
                        <p>Use GPay to complete payment. (Demo) Click the button below.</p>
                        <button id="gpay-btn" type="button" class="cta-button">Pay with GPay</button>
                    </div>

                    <div id="payment-qr" class="payment-panel" style="display:none">
                        <p>Scan the QR code below with your mobile wallet to pay.</p>
                        <div class="qr-placeholder" id="qr-static">[ QR CODE ]</div>
                        <div id="qr-scanner" style="display:none;margin-top:8px;">
                            <div id="qr-reader" style="width:100%;max-width:360px;margin-bottom:8px;"></div>
                            <div style="display:flex;gap:8px;">
                                <button id="qr-start" type="button" class="cta-button">Start Scanner</button>
                                <button id="qr-stop" type="button" class="cta-button" style="background:#ccc;color:#111">Stop Scanner</button>
                            </div>
                        </div>
                    </div>

                    <div id="payment-upi" class="payment-panel" style="display:none">
                        <div class="form-group">
                            <label for="upi-id">UPI ID (e.g. name@bank)</label>
                            <input type="text" id="upi-id" placeholder="yourid@bank">
                        </div>
                        <button id="upi-btn" type="button" class="cta-button">Pay with UPI</button>
                    </div>
                    <button type="submit" class="cta-button">Place Order</button>
                </form>
            </div>
            <div class="order-summary" id="order-summary">
                </div>
        </div>
    </main>

    <script src="script.js"></script>
    <!-- jsPDF for client-side PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- html5-qrcode for QR scanning -->
    <script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>

    <!-- Processing modal (mock payment provider) -->
    <div id="processing-modal" class="modal" aria-hidden="true">
        <div class="modal-overlay"></div>
        <div class="modal-dialog" role="dialog" aria-modal="true">
            <div class="modal-content">
                <div class="modal-info">
                    <h3>Processing Payment...</h3>
                    <div class="spinner" aria-hidden="true"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Order confirmation modal -->
    <div id="order-confirm-modal" class="modal" aria-hidden="true">
        <div class="modal-overlay" data-action="close"></div>
        <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="order-confirm-title">
            <button class="modal-close" data-action="close" aria-label="Close">&times;</button>
            <div class="modal-content">
                <div class="modal-info">
                    <h3 id="order-confirm-title">Order Confirmed</h3>
                    <div id="order-confirm-body"></div>
                    <div class="order-confirm-actions" style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;">
                        <button id="download-pdf" class="cta-button">Download PDF</button>
                        <button id="email-order" class="cta-button">Email Order</button>
                        <button id="close-confirm" class="cta-button">Done</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>